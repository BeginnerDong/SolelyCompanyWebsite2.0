<div id="banner_app" class="pubHeadBanner" >
	<div class="banner clearfix" v-for="(item,index) in bannerData" v-show="index==banner_index" style="height:100%">
		<img class="pic" :src="item.mainImg" />
		<div class="samlIcon animated bounceInRight">
			<img :src="item.samllIcon" >
		</div>
	</div>
	<div class="arrowIon prev" @click="changeBanner('+')">
		<img src="images/icon-right.png" />
	</div>
	<div class="arrowIon next" @click="changeBanner('-')">
		<img src="images/icon-left.png" />
	</div>
</div>


<script type="text/javascript">
	var banner_app = new Vue({
	    el: '#banner_app',
	    data:function(){
	        return {
	        	banner_index:0,
	        	is_toggle:false,
				is_show:false,
				bannerData:[
					{mainImg:'images/banner-img1.jpg',samllIcon:'images/banner-img3.png'},
					{mainImg:'images/banner-img2.jpg',samllIcon:'images/banner-img.png'}
				],
				searchItem:{
					thirdapp_id:window.base.thirdapp_id,
					title:''
				}
	        }
	    },
	    created:function () {
	        var self = this;
	        var currentUrl = window.base.GetUrlRelativePath();
		
			var reg = /\/([^\/]+)\.html/i;
			if(reg.exec(currentUrl)&&reg.exec(currentUrl)[0]){
				self.currentUrl = reg.exec(currentUrl)[0];
			}else{
				self.currentUrl = '/index.html';
			};
			self.searchItem.title = self.herfIndex[self.currentUrl];

			//window.base.bus.$emit('from_headBanner',{});
    		window.base.bus.$on('to_headBanner',(res)=>{	
	        	this.to_headBanner(res);
		    });
			self.getMainData()	
	    },
	    methods: {
	    	to_headBanner:function(){

	    	},
	    	getMainData: function(id){
			    var self = this;
			    var postData = {};
			    postData.searchItem = window.base.cloneForm(self.searchItem);
				postData.getAfter = {
					child: {
						tableName: 'Label',
						middleKey: 'id',
						key: 'parentid',
						searchItem: {
							status: 1,
						},
						condition: '='
					},
				};
			    var callback = function(res){
			        if(res.info.data.length>0&&res.info.data[0]['child']){
						self.bannerData =res.info.data[0]['child'];
						console.log('self.bannerData',self.bannerData)
			        };    
			    };
			    window.base.labelGet(postData, callback);
			},
	        
	    	changeBanner: function(type) {
	    		var self = this;
	    		if(type=='+'){
	    			console.log(8852)
	    			self.banner_index += 1;
	    		}else if((type=='-')){
	    			self.banner_index -= 1;
	    		};
	    		console.log(self.banner_index);
	    		if(self.banner_index<0){
	    			self.banner_index = self.bannerData.length-1
	    		};
	    		if(self.banner_index==self.bannerData.length){
	    			self.banner_index = 0
	    		};	
	    		
	    	},
			
			intoPath:function(url,id){
			    var self = this;
			    var toUrl = url;
			    console.log(toUrl);
			    window.location.href= toUrl+'?id='+id;
			
			},

			
	    }
	});
</script>
<style>
/*网站banner*/
.pubHeadBanner{width:100%;height: 850px;overflow: hidden;position: relative; }
#banner_app .banner{ width: 100%; height: 100%;overflow: hidden; box-sizing: border-box;position: relative;}
#banner_app .banner .pic{ height: 100%;width: 100%; display: block; /* transition: all 2s; */ }
#banner_app .banner .samlIcon{position: absolute;right: 10%;bottom: 10%;}
#banner_app .banner .samlIcon img{width: 506px;height: 482px;display: block;}
/* #banner_app .banner:hover img{transform: scale(1.1);} */

#banner_app .arrowIon{position: absolute;top:45%;z-index:50;cursor: pointer;}
#banner_app .arrowIon img{width: 18px;height: 30px; display: block;}
#banner_app .arrowIon.prev{right:30px;}
#banner_app .arrowIon.next{left:30px;}

.banBtnNav{ width: 100%; text-align: center; position: absolute; bottom:3%; left: 0;z-index: 9;}
.banBtnNav span{ display:inline-block; margin: 0 5px; border-radius: 50%; background:rgba(170,170,170); width: 12px; height: 12px;box-shadow: 0 0 5px rgba(0,0,0,0.5);}
.banBtnNav span.active{ opacity: 1; background: #0d6fb8;}


/******************* 以下自适应样式 *******************/

/* banner 各种屏幕自适应 */
@media only screen and (max-width: 1600px){
	.pubHeadBanner{height: 708px;}
	#banner_app .banner .samlIcon img{width: 485px;height: 462px;}
}
@media only screen and (max-width: 1440px){
	.pubHeadBanner{height: 638px;}
	#banner_app .banner .samlIcon img{width:440px;height: 412px;}
}
@media only screen and (max-width: 1366px){
	.pubHeadBanner{height: 605px;}
	#banner_app .banner .samlIcon img{width: 415px;height: 395px;}
}
@media only screen and (max-width: 1280px){
	.pubHeadBanner{height: 567px;}
	#banner_app .banner .samlIcon img{width: 385px;height: 367px;}
}
@media only screen and (max-width: 1024px){
	.pubHeadBanner{height: 453px;}
	#banner_app .banner .samlIcon img{width: 320px;height: 305px;}
}
@media only screen and (max-width: 768px){
	#banner_app .arrowIon img{width: 15px;height: 25px;}
	#banner_app .arrowIon.prev{right: 2%;}
	#banner_app .arrowIon.next{left: 2%;}
	.pubHeadBanner{height: 340px;}
	#banner_app .banner .samlIcon img{width: 220px;height: 210px;}
}
@media only screen and (max-width: 500px){
	.pubHeadBanner{height: 240px;}
	#banner_app .banner .samlIcon img{width: 160px;height: 152px;}
}

/* banner自适应 end */


</style>
