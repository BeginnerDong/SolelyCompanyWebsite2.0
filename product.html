<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="renderer" content="webkit">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<meta name="description" content="">
		<meta name="keywords" content="">
		<title>产品</title>
		<script src="./js/vue.js"></script>
		<script type="text/javascript" src="js/jquery.min.js"></script>
		<script type="text/javascript" src="js/include.js"></script>
		<script type="text/javascript" src="js/base.js"></script>
		<script type="text/javascript" src="js/swipe.js"></script>
		<link type="text/css" rel="stylesheet" href="css/public.css">
		<link rel="stylesheet" type="text/css" href="css/mini.css">
		<link rel="stylesheet" type="text/css" href="css/wxParse.css">
		<link rel="stylesheet" href="css/animate/animate.min.css">
		<link rel="stylesheet" type="text/css" href="css/detail.css">
		<script src="http://pv.sohu.com/cityjson?ie=utf-8"></script>
		<script type="text/javascript" src="http://api.map.baidu.com/api?key=&v=1.1&services=true&ak=M9C0DhYUo81Io76oZlaPQ1xoZcycRqwB"></script>
	</head>
	<style>
		.productNav{padding-top: 60px; }
		.productNav .item{width: 25%;float: left;line-height: 40px; vertical-align: middle;font-size: 18px;color: #5c5c5c;padding-bottom: 30px;}
		.productNav .item .icon{width: 35px;height: 35px;display: initial; vertical-align: middle;}
		.productNav .item.on{position: relative;border-bottom: 1px solid #17ACEE;}
		.productNav .item.on::after{content: ''; position: absolute;left: 50%;transform: translateX(-50%);bottom: 0; border-top: 10px transparent dashed;border-left: 10px transparent dashed;border-right: 10px transparent dashed;border-bottom: 10px #17ACEE solid;}
		.pd-class{padding: 30px 0 40px 0;}
		.pd-class span{display: block;float: left;font-size: 16px;line-height: 44px;width: 120px;text-align: center;border-radius: 20px 0 20px 0;border: 1px solid #eee;margin-right: 32px;margin-bottom: 20px;background-color: #fff;}
		.pd-class span:last-child{margin-right: 0;}
		.pd-class span.on{background-color: #17acee;color: #fff;border-color:#17ACEE ;}
		
		/* 产品列表 */
		.prodcutList li{float: left;overflow: hidden;box-shadow: 0 0 10px rgba(0,0,0,0.15);background-color: #fff;text-align: center;margin-bottom: 40px;}
		.prodcutList li .pic{width: 100%; display: block;}
		.prodcutList li p{padding: 20px 10px;font-size: 16px;}
		
		/* mobile */
		.prodcutList .proMobile li{width: 23.5%;margin-right: 2%; }
		.prodcutList .proMobile li:nth-child(4n){margin-right: 0%;}
		.prodcutList .proMobile li .pic{height: 501px;display: block;}
		
		
		/* pc列表 */
		.prodcutList .proPc li{width: 48%;}
		.prodcutList .proPc li:nth-child(2n){margin-left: 4%;}
		.prodcutList .proPc li .pic{width: 100%;height: 324px;}
		
		/* 页码 */
		.allPages li{display: inline-block;font-size: 15px;}
		.allPages li span{margin: 5px 10px; display: inline-block; cursor: pointer;}
		.allPages li span.on{color: #17ACEE;position: relative;}
		.allPages li span.on::after{content: '';width: 15px; height: 2px;background: #17ACEE;position: absolute; bottom: -3px;left: 50%;transform: translateX(-42%);}
		.allPages li .arrow{width: 13px;height:13px; vertical-align: middle; display: inline-block;padding: 0 10px;}
		
		@media only screen and (max-width: 1050px){
			.prodcutList .proMobile li .pic{height: 402px;}
		}
		@media only screen and (max-width: 768px){
			.productNav {padding-top: 40px;}
			.productNav .item{font-size: 16px;    padding-bottom: 20px;}
			.productNav .item .icon {width: 30px;height: 30px;}
			.pd-class span{line-height: 40px;width: 100px;margin-right: 2.5%;}
			.prodcutList .proMobile li .pic{height: 301px;}
			.prodcutList .proPc li .pic{height: 195px;}
		}
		
		@media only screen and (max-width: 500px){
			.productNav {padding-top: 15px;}
			.productNav .item.on::after{border-top: 6px transparent dashed;border-left: 6px transparent dashed;border-right: 6px transparent dashed;border-bottom: 6px #17ACEE solid;}
			.productNav .item{font-size: 14px; padding-bottom: 10px;}
			.productNav .item .icon {width:22px;height: 22px;}
			.pd-class {padding: 20px 0 10px 0;}
			.pd-class span{line-height: 30px;width: 22.5%;margin-right: 2%;font-size: 13px;border-radius: 15px 0 15px 0;margin-bottom: 15px;}
			.pd-class span:nth-child(4n){margin-right: 0;}
			.prodcutList li{margin-bottom: 20px;}
			.prodcutList .proMobile li{width: 48%;}
			.prodcutList .proMobile li:nth-child(2n){margin-right: 0;float: right;}
			.prodcutList .proMobile li .pic{height: 300px;}
			
			.prodcutList .proPc li .pic{height: 95px;}
			.prodcutList li p{font-size: 14px;padding: 10px 2%;}
			.allPages{padding-top: 10px;}
		}
		@media only screen and (max-width: 414px){
			.prodcutList .proMobile li .pic{height: 332px;}
			.prodcutList .proPc li .pic{height: 105px;}
		}
		@media only screen and (max-width: 375px){
			.prodcutList .proMobile li .pic{height: 300px;}
			.prodcutList .proPc li .pic{height: 95px;}
		}
		@media only screen and (max-width: 320px){
			.prodcutList .proMobile li .pic{height: 257px;}
			.prodcutList .proPc li .pic{height: 81px;}
		}
		@media only screen and (max-width: 500px){
			.detail .right .Bcont{text-align: right;}
		}
	</style>

	<body>
		<div id="app">
			<!-- 网站导航 -->
			<div v-show="detailId<0">
				<div class="">
					<include src="header.html"></include>
				</div>
				
				<!-- banner -->
				<div class="">
					<include src="headBanner.html"></include>
				</div>
				
				<div>
					<div class="w1200 pdb100">
						<!-- 产品导航分类 -->
						<div class="productNav center clearfix borderB1">
							<span class="item" :class="curr==1?'on':''" @click="currChange('1')">
								<img class="icon" :src="curr==1?'images/product-icon.png':'images/product-icon1.png'" >
								APP
							</span>
							<span class="item" :class="curr==2?'on':''" @click="currChange('2')">
								<img class="icon" :src="curr==2?'images/product-icon3.png':'images/product-icon2.png'" >
								小程序
							</span>
							<span class="item" :class="curr==3?'on':''" @click="currChange('3')">
								<img class="icon" :src="curr==3?'images/product-icon5.png':'images/product-icon4.png'" >
								公众号
							</span>
							<span class="item" :class="curr==4?'on':''" @click="currChange('4')">
								<img class="icon" :src="curr==4?'images/product-icon7.png':'images/product-icon6.png'" >
								网站建设
							</span>
						</div>
						<!-- 产品类别 -->
						<div class="pd-class clearfix">
							<span v-for="(item,index) in labelTwoData" :class="idTwo==item.id?'on':''" 
							@click="classChange(item.id)">{{item.title}}</span>
						</div>
						
						<!-- 产品列表 -->
						<!-- mobile -->
						<div class="prodcutList">
							<ul class="clearfix" :class="curr==4?'proPc':'proMobile'">
								<li class="fadeInUp animated" v-for="(item,index) in mainData" :key="index">
									<a @click="detailView(item.id)">
										<img class="pic" :src="item.mainImg&&item.mainImg[0]?item.mainImg[0].url:''"/>
										<p>{{item.title}}</p>
									</a>
								</li>
							</ul>
						</div>
				
						<!-- 页码 -->
						<div class="allPages center color6 pdt30">
							<ul class="clearfix">
								<li><span class="prev"   @click="changePage('back')"><img class="arrow" src="images/product-icon10.png" ></span></li>
								<li>
									<span v-for="item in pageArray" :class="item == paginate.currentPage?'on':''" :data-page="item" @click="linkTo">{{item}}</span>
								</li>
								<li><span class="next"   @click="changePage('next')"><img class="arrow" src="images/product-icon11.png"/></span></li>
							</ul>
						</div>
						
					</div>
				</div>
				<include src="footer.html"></include>
			</div>
			
			<div class="detail clearfix" v-show="detailId&&detailId>0">
				<a class="close" @click="detailView('-1')">×</a>
				<div class="left fl">
					<iframe :src="currentDetail.passage1" style="width: 100%;height: 100%;" allowTransparency="true" frameborder="0"></iframe>
					
					<!-- <iframe src="https://modao.cc/app/xxm2be2wuclk2o7i6w9jp7satndb/embed/v2" style="width: 100%;height: 100%;" allowTransparency="true" frameborder="0"></iframe> -->
					<!-- <div class="mobile">
						<div class="pic">
							<iframe src="https://modao.cc/app/xxm2be2wuclk2o7i6w9jp7satndb/embed/v2" allowTransparency="true" frameborder="0"></iframe>
							<img src="images/img1.jpg" >
						</div>
					</div> -->
				</div>
				<div class="right fr white">
					<h1 class="tit ftw center">{{currentDetail.title}}</h1>
					<!-- <p class="text">{{currentDetail.description}}</p> -->
					<div class="content ql-editor " style="clear: both;">
						<p class="p1 " v-html="currentDetail.content"></p>
					</div>
					<div class="tabs clearfix">
						<span v-for="item in currentDetail.small_title">{{item}}</span>
					</div>
					<div class="xian"></div>
					<div class="clearfix">
						<!-- <div class="fl" style="width: 32%;">
							<p class="fl mgr10 tit2">界面样式</p>
							<img class="ewm" :src="currentDetail.mainImg&&currentDetail.mainImg[1]?currentDetail.mainImg[1].url:''" >
						</div> -->
						<div class="fr Bcont" style="width: 65%;">
							<p>如果您有任何需要 </p>
							<p>请联系我们：{{phone}}（同微信）</p>
						</div>
					</div>
					
					
				</div>
				<div>
				
					<iframe :src="currentDetail.passage1":style="currentDetail.menu_id!=24&&currentDetail.menu_id!=25&&currentDetail.menu_id!=26?'height:667px':'height:210px'" 
					style="width: 100%" allowTransparency="true" frameborder="0"></iframe>
				</div>
			</div>
		</div>
	</body>

	<script type="text/javascript">
		var app = new Vue({
			el: '#app',
			data: function() {
				return {
					is_toggle: false,
					indshareLis: [],
					mainData:[],
					curr:1,
					classData:['餐饮类','商城类','服装类','电商类','旅游类','招聘类','酒店类','房产类'],
					classCurr:0,
					mobileData:[{},{},{},{},{},{}],
					productData:[{},{},{},{},{},{}],
					n:1,
					id:-1,
					idTwo:-1,
					labelData:[],
					labelTwoData:[],
					mainData:[],
					paginate:{
						count: 0,
						currentPage: 1,
						pagesize: 8,
						is_page: true,
					},
					linkPage: [],
					pageArray: [],
					
					allPages: 0,
					detailId:-1,
					currentDetail:{},
					phoneData:{},
					phone:'18092651095'
				}
			},
			created: function() {
				var self = this;
				self.getLabelData();
				self.phone = localStorage.getItem('phone')
			},
			
			methods: {
				
				
				
				detailView(id){
					const self = this;
					self.detailId = id;
					if(id>0){
						document.body.scrollTop = document.documentElement.scrollTop = 0;
						for (var i = 0; i < self.mainData.length; i++) {
							if(self.detailId==self.mainData[i].id){
								self.currentDetail = self.mainData[i]
							}
						};
						self.currentDetail.small_title = self.currentDetail.small_title.split(",")
					}
					
				},
				
				currChange(curr){
					const self = this;
					if(curr!=self.curr){
						self.curr = curr;
						self.id = self.labelData[self.curr-1].id;
						self.labelTwoData = [];
						self.mainData = [];
						self.getLabelTwoData()
					}
				},
				
				classChange(id){
					const self = this;
					if(id!=self.idTwo){
						self.idTwo = id
						self.mainData = [];
						self.getMainData()
					}
				},
				
				getLabelData:function() {
					var self = this;
					var postData = {};
					postData.searchItem = {
						type: 1,
						thirdapp_id: 2,
						parentid:7
					};
					postData.order = {
						listorder:'desc'
					}
					/* postData.getBefore = {
						caseData: {
							tableName: 'Label',
							searchItem: {
								title: ['in', ['产品']],
							},
							middleKey: 'parentid',
							key: 'id',
							condition: 'in',
						},
					}; */
					var callback = function(res) {
						if (res.info.data.length > 0) {
							self.labelData.push.apply(self.labelData, res.info.data);
							
							self.id = self.labelData[0].id;
							self.getLabelTwoData()
						}
					};
					window.base.labelGet(postData, callback);
				},
				
				getLabelTwoData:function() {
					var self = this;
					var postData = {};
					postData.searchItem = {
						type: 1,
						thirdapp_id: 2,
						parentid:self.id
					};
					postData.order = {
						listorder:'desc'
					}
					var callback = function(res) {
						if (res.info.data.length > 0) {
							self.labelTwoData.push.apply(self.labelTwoData, res.info.data);
							
							self.idTwo = self.labelTwoData[0].id;
							self.getMainData()
						}
					};
					window.base.labelGet(postData, callback);
				},
				
				
				getMainData() {
					const self = this;
					const postData = {};
					postData.paginate = window.base.cloneForm(self.paginate);
					postData.searchItem = {
						thirdapp_id:2,
						menu_id:self.idTwo
					};
					const callback = (res) => {
						if (res.info.data.length > 0) {
							self.mainData.push.apply(self.mainData,res.info.data);
							self.paginate['count'] = res.info.total;
							window.base.computePageArr(self);
						} else {
							window.base.showToast('没有数据');
						};	
					};
					window.base.articleGet(postData, callback);
				},
				
				
				
				linkTo(e) {
					var self = this;
					console.log(e);
					self.linkPage = window.base.getDataSet(e).page;
					window.base.linkTo(self);
				},
				
				changePage(type) {
					var self = this;
					var dataSet = type;
					console.log(3432432,dataSet)
					window.base.changePage(dataSet, self);
				},
				

			}
		});
	</script>

</html>
